(this.webpackJsonpreact_candy_crush=this.webpackJsonpreact_candy_crush||[]).push([[0],{25:function(t,e,n){},45:function(t,e,n){"use strict";n.r(e);var r=n(1),c=n.n(r),a=n(20),o=n.n(a),u=(n(25),n(11)),i=n(3),s=n.p+"static/media/blank.fbcb9179.png",f=n.p+"static/media/blue.73120c15.png",d=n.p+"static/media/Green.599f7016.png",b=n.p+"static/media/orange.f106b2cd.png",j=n.p+"static/media/purple-candy.ae25b8a5.png",l=n.p+"static/media/red-candy.3658b37c.png",v=n.p+"static/media/yellow-candy.a3d87a9b.png",p=n(4),O=Object(r.createContext)({}),h=n(0),g=function(t){var e=Object(r.useContext)(O),n=e.setDATA,c=e.DATA;return Object(r.useEffect)((function(){n(Object(p.a)(Object(p.a)({},c),{},{Score:t.score}))}),[t.score]),Object(h.jsx)("div",{className:"score-board",children:Object(h.jsx)("h2",{children:t.score})})},m=n(9),x=n.n(m),y=function(){var t=Object(r.useContext)(O),e=t.DATA,n=t.setDATA;return Object(h.jsxs)("div",{children:[console.log(e),Object(h.jsxs)("form",{onSubmit:function(t){t.preventDefault(),x.a.post("https://candytwist-node-deploy.herokuapp.com/score",e).then((function(t){alert(200===t.status?"Score added":"Something went wrong!"),window.location.reload()})).catch((function(t){return console.log(t)}))},children:[Object(h.jsx)("input",{required:!0,type:"text",onChange:function(t){t.preventDefault(),n(Object(p.a)(Object(p.a)({},e),{},{Username:t.target.value}))}}),Object(h.jsx)("button",{type:"submit",children:"Submit Score"})]})]})},A=function(){var t=Object(r.useState)([]),e=Object(i.a)(t,2),n=e[0],c=e[1];return Object(r.useEffect)((function(){x.a.get("https://candytwist-node-deploy.herokuapp.com/scoreBoard").then((function(t){return c(t.data)})).catch((function(t){return console.log(t)}))}),[]),Object(h.jsx)("div",{children:n.length?n.map((function(t,e){return Object(h.jsxs)("div",{style:{display:"flex"},children:[Object(h.jsx)("p",{children:t.Score}),Object(h.jsx)("p",{children:t.Username})]},e)})):""})},D=[l,f,j,b,d,v];var S=function(){var t=Object(r.useState)([]),e=Object(i.a)(t,2),n=e[0],c=e[1],a=Object(r.useState)(),o=Object(i.a)(a,2),f=o[0],d=o[1],b=Object(r.useState)(),j=Object(i.a)(b,2),l=j[0],v=j[1],p=Object(r.useState)(0),m=Object(i.a)(p,2),x=m[0],S=m[1],E=Object(r.useState)({Username:"",Score:""}),w=Object(i.a)(E,2),T=w[0],k=w[1],I=function(){for(var t=function(t){var e=[t,t+8,t+16,t+24],r=n[t],c=n[t]===s;if(e.every((function(t){return n[t]===r&&!c})))return S((function(t){return t+4})),e.forEach((function(t){return n[t]=s})),{v:!0}},e=0;e<=39;e++){var r=t(e);if("object"===typeof r)return r.v}},M=function(){for(var t=function(t){var e=[t,t+1,t+2,t+3],r=n[t],c=n[t]===s;return[5,6,7,13,14,15,21,22,23,29,30,31,37,38,39,45,46,47,53,54,55,62,63,64].includes(t)?"continue":e.every((function(t){return n[t]===r&&!c}))?(S((function(t){return t+4})),e.forEach((function(t){return n[t]=s})),{v:!0}):void 0},e=0;e<64;e++){var r=t(e);if("continue"!==r&&"object"===typeof r)return r.v}},C=function(){for(var t=function(t){var e=[t,t+8,t+16],r=n[t],c=n[t]===s;if(e.every((function(t){return n[t]===r&&!c})))return S((function(t){return t+3})),e.forEach((function(t){return n[t]=s})),{v:!0}},e=0;e<=47;e++){var r=t(e);if("object"===typeof r)return r.v}},_=function(){for(var t=function(t){var e=[t,t+1,t+2],r=n[t],c=n[t]===s;return[6,7,14,15,22,23,30,31,38,39,46,47,54,55,63,64].includes(t)?"continue":e.every((function(t){return n[t]===r&&!c}))?(S((function(t){return t+3})),e.forEach((function(t){return n[t]=s})),{v:!0}):void 0},e=0;e<64;e++){var r=t(e);if("continue"!==r&&"object"===typeof r)return r.v}},N=function(t){d(t.target)},U=function(t){v(t.target)};Object(r.useEffect)((function(){!function(){for(var t=[],e=0;e<64;e++){var n=D[Math.floor(Math.random()*D.length)];t.push(n)}c(t)}()}),[]),Object(r.useEffect)((function(){var t=setInterval((function(){I(),M(),C(),_(),function(){for(var t=0;t<56;t++){if([0,1,2,3,4,5,6,7].includes(t)&&n[t]===s){var e=Math.floor(Math.random()*D.length);n[t]=D[e]}n[t+8]===s&&(n[t+8]=n[t],n[t]=s)}}(),c(Object(u.a)(n))}),100);return function(){return clearInterval(t)}}),[I,M,n,_,C]);var B=function(t){var e=parseInt(f.getAttribute("data-id")),r=parseInt(l.getAttribute("data-id")),a=[e-1,e-8,e+1,e+8].includes(r);if(console.log(a),a){n[r]=f.getAttribute("src"),n[e]=l.getAttribute("src");var o=I(),i=M(),s=C(),b=_();r&&(o||i||s||b)?(d(null),d(null)):(n[r]=l.getAttribute("src"),n[e]=f.getAttribute("src"),c(Object(u.a)(n)))}};return Object(h.jsx)(O.Provider,{value:{DATA:T,setDATA:k},children:Object(h.jsxs)("div",{className:"app",children:[Object(h.jsx)("div",{className:"game",children:n.map((function(t,e){return Object(h.jsx)("img",{src:t,alt:t,"data-id":e,draggable:!0,onDragStart:N,onDragOver:function(t){return t.preventDefault()},onDragEnter:function(t){return t.preventDefault()},onDragLeave:function(t){return t.preventDefault()},onDrop:U,onDragEnd:B},e)}))}),Object(h.jsx)(g,{score:x}),Object(h.jsx)(y,{}),Object(h.jsx)(A,{})]})})};o.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(S,{})}),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.9bfa8b9d.chunk.js.map